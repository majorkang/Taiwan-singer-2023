<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>å–®ä¸€æ­Œæ‰‹ç„¦é»ï½œå°ç£æ­Œæ‰‹ Google Trends æ•…äº‹é </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.plot.ly/plotly-2.35.2.min.js"></script>
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Noto Sans TC", sans-serif;
      background: #020617;
      color: #e5e7eb;
      line-height: 1.6;
    }
    .page {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    header {
      max-width: 960px;
      margin: 0 auto;
      padding: 2.3rem 1.5rem 1.2rem;
    }
    a.back {
      font-size: 0.8rem;
      text-decoration: none;
      color: #9ca3af;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      margin-bottom: 0.4rem;
    }
    a.back span {
      font-size: 1rem;
    }
    .eyebrow {
      font-size: 0.8rem;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: #9ca3af;
      margin-bottom: 0.4rem;
    }
    h1 {
      font-size: 2.1rem;
      margin: 0 0 0.4rem;
    }
    .subtitle {
      font-size: 0.95rem;
      color: #9ca3af;
    }
    .hero {
      max-width: 960px;
      margin: 0 auto;
      padding: 0 1.5rem 1.5rem;
    }
    .layout {
      display: grid;
      grid-template-columns: minmax(0, 1.8fr) minmax(0, 1.2fr);
      gap: 1.6rem;
    }
    @media (max-width: 900px) {
      .layout {
        grid-template-columns: minmax(0, 1fr);
      }
    }
    .chart-card {
      background: radial-gradient(circle at top, #0f172a 0, #020617 60%);
      border-radius: 1.5rem;
      padding: 1rem 1.25rem 1.25rem;
      border: 1px solid #1f2937;
    }
    #focus-chart {
      width: 100%;
      height: 420px;
    }
    .control-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      align-items: center;
      margin-bottom: 0.8rem;
    }
    .select-wrap {
      position: relative;
      display: inline-flex;
      align-items: center;
      gap: 0.45rem;
      padding: 0.35rem 0.8rem;
      border-radius: 999px;
      border: 1px solid #374151;
      background: #020617;
      font-size: 0.85rem;
      color: #e5e7eb;
    }
    .select-wrap label {
      font-size: 0.78rem;
      color: #9ca3af;
    }
    .select-wrap select {
      border: none;
      outline: none;
      background: transparent;
      color: #e5e7eb;
      font-size: 0.9rem;
    }
    .select-wrap option {
      color: #020617;
    }
    .pill {
      border-radius: 999px;
      border: 1px solid #374151;
      padding: 0.25rem 0.75rem;
      font-size: 0.8rem;
      color: #9ca3af;
    }
    .chart-meta {
      font-size: 0.8rem;
      color: #9ca3af;
      margin-top: 0.5rem;
    }
    .story-card {
      background: #020617;
      border-radius: 1.25rem;
      border: 1px solid #1f2937;
      padding: 1rem 1.2rem 1.1rem;
      font-size: 0.95rem;
    }
    .story-tag {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #9ca3af;
      margin-bottom: 0.25rem;
    }
    .story-card h2 {
      margin: 0.1rem 0 0.5rem;
      font-size: 1.3rem;
    }
    .event-list {
      margin: 0.4rem 0 0;
      padding-left: 1.1rem;
      font-size: 0.88rem;
      color: #d1d5db;
    }
    .event-list li {
      margin-bottom: 0.25rem;
    }
    .event-list time {
      font-size: 0.78rem;
      color: #9ca3af;
      margin-right: 0.25rem;
    }
    .legend {
      margin-top: 0.6rem;
      font-size: 0.8rem;
      color: #9ca3af;
    }
    .legend span.color {
      display: inline-block;
      width: 10px;
      height: 10px;
      border-radius: 999px;
      margin-right: 0.25rem;
      vertical-align: middle;
    }
    footer {
      max-width: 960px;
      margin: 0 auto;
      padding: 0 1.5rem 2rem;
      font-size: 0.78rem;
      color: #6b7280;
    }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <a href="/" class="back"><span>â†</span> å›åˆ°ç¸½è¦½é </a>
      <p class="eyebrow">FOCUS VIEW Â· SINGLE ARTIST</p>
      <h1 id="title">å‘¨æ°å€«ï¼šä¸€å¹´æœå°‹ç†±åº¦æ•…äº‹</h1>
      <p class="subtitle">
        åœ¨é€™ä¸€é ï¼Œæˆ‘å€‘å¾äº”ä½æ­Œæ‰‹ä¸­é¸å‡ºä¸€ä½ï¼Œå°ˆæ³¨è§€å¯Ÿä»–çš„ Google Trends æ›²ç·šï¼Œæ­é…äº‹ä»¶æ¨™è¨»ï¼Œ
        ç”¨æ¥è¿‘è³‡æ–™æ–°èçš„æ–¹å¼è¬›ä¸€å€‹ã€Œæ­Œæ‰‹èˆ‡æ™‚é–“ã€çš„æ•…äº‹ã€‚
      </p>
    </header>

    <section class="hero">
      <div class="layout">
        <div class="chart-card">
          <div class="control-row">
            <div class="select-wrap">
              <label for="artistSelect">é¸æ“‡æ­Œæ‰‹</label>
              <select id="artistSelect">
                <option value="å‘¨æ°å€«">å‘¨æ°å€«</option>
                <option value="å‘Šäº”äºº">å‘Šäº”äºº</option>
                <option value="å‘¨èˆˆå“²">å‘¨èˆˆå“²</option>
                <option value="èŒ„å­è›‹">èŒ„å­è›‹</option>
                <option value="éŸ‹ç¦®å®‰">éŸ‹ç¦®å®‰</option>
              </select>
            </div>
            <div class="pill" id="peakInfo">æœ€é«˜é»ï¼š--</div>
          </div>
          <div id="focus-chart"></div>
          <p class="chart-meta">
            æŠ˜ç·šä»£è¡¨å–®ä¸€æ­Œæ‰‹åœ¨å°ç£çš„ç›¸å°æœå°‹ç†±åº¦ï¼ˆ0â€“100ï¼‰ã€‚
            å‚ç›´è™›ç·šæ¨™å‡ºå¹¾å€‹é‡è¦é€±æœŸï¼Œå¯ä»¥ä½œç‚ºæ–°èæ™‚é–“è»¸æˆ–å ±å°æ¡†æ¶çš„èµ·é»ã€‚
          </p>
          <p class="legend">
            <span class="color" id="legendColor"></span>
            æ©˜ç·šï¼šæ­Œæ‰‹æœå°‹ç†±åº¦ Â· ç°è™›ç·šï¼šäº‹ä»¶æ¨™è¨»
          </p>
        </div>

        <article class="story-card">
          <p class="story-tag">æ•˜äº‹å€å¡Š</p>
          <h2 id="storyHeading">å‘¨æ°å€«ï¼šé«˜åŸå‹ç†±åº¦èˆ‡å¹¾å€‹æ˜é¡¯é«˜å³°</h2>
          <p id="storyText">
            å‘¨æ°å€«çš„æ›²ç·šå¤§è‡´ç¶­æŒåœ¨ä¸­é«˜æª”ä½ï¼Œåªæœ‰åœ¨å°‘æ•¸å¹¾å€‹æ™‚é–“é»çªç„¶è¡é«˜ã€‚
            é€™äº›é«˜é»é€šå¸¸å°æ‡‰åˆ°æ–°ä½œå“é‡‹å‡ºã€æ¼”å”±æœƒé–‹è³£æˆ–æ˜¯ç¤¾ç¾¤è©±é¡Œï¼Œ
            ä»£è¡¨ä»–çš„é—œæ³¨åº¦æ¯”è¼ƒåƒæ˜¯ã€ŒæŒçºŒå­˜åœ¨çš„èƒŒæ™¯å™ªéŸ³ã€ï¼Œè€Œä¸æ˜¯ä¸€é™£ä¸€é™£çš„çˆ†ç´…ã€‚
          </p>
          <ul class="event-list" id="eventList"></ul>
        </article>
      </div>
    </section>

    <footer>
      é€™æ˜¯ç¬¬äºŒå€‹ç¤ºç¯„é é¢ï¼šåŒä¸€ä»½ Google Trends è³‡æ–™ï¼Œé€éå–®ä¸€æ­Œæ‰‹è¦–è§’èˆ‡äº‹ä»¶æ¨™è¨»ï¼Œ
      ç¤ºç¯„å¦‚ä½•æŠŠæŠ˜ç·šåœ–è®Šæˆä¸€å‰‡å¯é–±è®€çš„æ•…äº‹ã€‚éƒ¨ç½²åœ¨èˆ‡ <code>index.html</code> ç›¸åŒçš„å°ˆæ¡ˆä¸­ï¼Œ
      é€é <code>/singer.html</code> è·¯å¾‘å­˜å–ã€‚
    </footer>
  </div>

  <script>
    // ğŸ‘‰ é€™è£¡è¦è²¼ä¸Š index.html è£¡çš„é‚£æ®µ trendsData JSON
    // å¾…æœƒè«‹åˆ° index.html æ‰¾åˆ°ã€Œconst trendsData = [...]ã€æ•´æ®µè¤‡è£½éä¾†
    const trendsData = [{"date": "2022-05-01", "å‘¨æ°å€«": 37, "å‘Šäº”äºº": 7, "å‘¨èˆˆå“²": 6, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 14}, {"date": "2022-05-08", "å‘¨æ°å€«": 31, "å‘Šäº”äºº": 8, "å‘¨èˆˆå“²": 9, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 14}, {"date": "2022-05-15", "å‘¨æ°å€«": 32, "å‘Šäº”äºº": 6, "å‘¨èˆˆå“²": 7, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 7}, {"date": "2022-05-22", "å‘¨æ°å€«": 31, "å‘Šäº”äºº": 7, "å‘¨èˆˆå“²": 7, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 7}, {"date": "2022-05-29", "å‘¨æ°å€«": 28, "å‘Šäº”äºº": 5, "å‘¨èˆˆå“²": 6, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 9}, {"date": "2022-06-05", "å‘¨æ°å€«": 24, "å‘Šäº”äºº": 5, "å‘¨èˆˆå“²": 6, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 5}, {"date": "2022-06-12", "å‘¨æ°å€«": 27, "å‘Šäº”äºº": 5, "å‘¨èˆˆå“²": 11, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 3}, {"date": "2022-06-19", "å‘¨æ°å€«": 32, "å‘Šäº”äºº": 5, "å‘¨èˆˆå“²": 8, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 6}, {"date": "2022-06-26", "å‘¨æ°å€«": 38, "å‘Šäº”äºº": 6, "å‘¨èˆˆå“²": 9, "èŒ„å­è›‹": 11, "éŸ‹ç¦®å®‰": 13}, {"date": "2022-07-03", "å‘¨æ°å€«": 97, "å‘Šäº”äºº": 5, "å‘¨èˆˆå“²": 7, "èŒ„å­è›‹": 15, "éŸ‹ç¦®å®‰": 13}, {"date": "2022-07-10", "å‘¨æ°å€«": 100, "å‘Šäº”äºº": 6, "å‘¨èˆˆå“²": 7, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 5}, {"date": "2022-07-17", "å‘¨æ°å€«": 61, "å‘Šäº”äºº": 5, "å‘¨èˆˆå“²": 11, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 5}, {"date": "2022-07-24", "å‘¨æ°å€«": 51, "å‘Šäº”äºº": 5, "å‘¨èˆˆå“²": 10, "èŒ„å­è›‹": 6, "éŸ‹ç¦®å®‰": 4}, {"date": "2022-07-31", "å‘¨æ°å€«": 43, "å‘Šäº”äºº": 6, "å‘¨èˆˆå“²": 11, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 4}, {"date": "2022-08-07", "å‘¨æ°å€«": 40, "å‘Šäº”äºº": 6, "å‘¨èˆˆå“²": 16, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 4}, {"date": "2022-08-14", "å‘¨æ°å€«": 43, "å‘Šäº”äºº": 7, "å‘¨èˆˆå“²": 11, "èŒ„å­è›‹": 6, "éŸ‹ç¦®å®‰": 6}, {"date": "2022-08-21", "å‘¨æ°å€«": 34, "å‘Šäº”äºº": 10, "å‘¨èˆˆå“²": 8, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 6}, {"date": "2022-08-28", "å‘¨æ°å€«": 42, "å‘Šäº”äºº": 9, "å‘¨èˆˆå“²": 10, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 5}, {"date": "2022-09-04", "å‘¨æ°å€«": 38, "å‘Šäº”äºº": 7, "å‘¨èˆˆå“²": 6, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 17}, {"date": "2022-09-11", "å‘¨æ°å€«": 34, "å‘Šäº”äºº": 12, "å‘¨èˆˆå“²": 10, "èŒ„å­è›‹": 9, "éŸ‹ç¦®å®‰": 26}, {"date": "2022-09-18", "å‘¨æ°å€«": 27, "å‘Šäº”äºº": 11, "å‘¨èˆˆå“²": 8, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 6}, {"date": "2022-09-25", "å‘¨æ°å€«": 30, "å‘Šäº”äºº": 7, "å‘¨èˆˆå“²": 10, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 45}, {"date": "2022-10-02", "å‘¨æ°å€«": 31, "å‘Šäº”äºº": 9, "å‘¨èˆˆå“²": 9, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 10}, {"date": "2022-10-09", "å‘¨æ°å€«": 31, "å‘Šäº”äºº": 12, "å‘¨èˆˆå“²": 53, "èŒ„å­è›‹": 6, "éŸ‹ç¦®å®‰": 6}, {"date": "2022-10-16", "å‘¨æ°å€«": 35, "å‘Šäº”äºº": 14, "å‘¨èˆˆå“²": 35, "èŒ„å­è›‹": 8, "éŸ‹ç¦®å®‰": 5}, {"date": "2022-10-23", "å‘¨æ°å€«": 35, "å‘Šäº”äºº": 10, "å‘¨èˆˆå“²": 33, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 6}, {"date": "2022-10-30", "å‘¨æ°å€«": 29, "å‘Šäº”äºº": 15, "å‘¨èˆˆå“²": 9, "èŒ„å­è›‹": 6, "éŸ‹ç¦®å®‰": 2}, {"date": "2022-11-06", "å‘¨æ°å€«": 29, "å‘Šäº”äºº": 7, "å‘¨èˆˆå“²": 7, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 12}, {"date": "2022-11-13", "å‘¨æ°å€«": 32, "å‘Šäº”äºº": 10, "å‘¨èˆˆå“²": 26, "èŒ„å­è›‹": 3, "éŸ‹ç¦®å®‰": 6}, {"date": "2022-11-20", "å‘¨æ°å€«": 37, "å‘Šäº”äºº": 9, "å‘¨èˆˆå“²": 21, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 10}, {"date": "2022-11-27", "å‘¨æ°å€«": 25, "å‘Šäº”äºº": 7, "å‘¨èˆˆå“²": 10, "èŒ„å­è›‹": 3, "éŸ‹ç¦®å®‰": 6}, {"date": "2022-12-04", "å‘¨æ°å€«": 39, "å‘Šäº”äºº": 15, "å‘¨èˆˆå“²": 8, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 7}, {"date": "2022-12-11", "å‘¨æ°å€«": 29, "å‘Šäº”äºº": 13, "å‘¨èˆˆå“²": 8, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 6}, {"date": "2022-12-18", "å‘¨æ°å€«": 39, "å‘Šäº”äºº": 13, "å‘¨èˆˆå“²": 7, "èŒ„å­è›‹": 3, "éŸ‹ç¦®å®‰": 6}, {"date": "2022-12-25", "å‘¨æ°å€«": 34, "å‘Šäº”äºº": 34, "å‘¨èˆˆå“²": 26, "èŒ„å­è›‹": 10, "éŸ‹ç¦®å®‰": 14}, {"date": "2023-01-01", "å‘¨æ°å€«": 32, "å‘Šäº”äºº": 27, "å‘¨èˆˆå“²": 16, "èŒ„å­è›‹": 7, "éŸ‹ç¦®å®‰": 15}, {"date": "2023-01-08", "å‘¨æ°å€«": 32, "å‘Šäº”äºº": 18, "å‘¨èˆˆå“²": 9, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 3}, {"date": "2023-01-15", "å‘¨æ°å€«": 36, "å‘Šäº”äºº": 19, "å‘¨èˆˆå“²": 5, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 7}, {"date": "2023-01-22", "å‘¨æ°å€«": 32, "å‘Šäº”äºº": 20, "å‘¨èˆˆå“²": 11, "èŒ„å­è›‹": 9, "éŸ‹ç¦®å®‰": 7}, {"date": "2023-01-29", "å‘¨æ°å€«": 26, "å‘Šäº”äºº": 21, "å‘¨èˆˆå“²": 6, "èŒ„å­è›‹": 3, "éŸ‹ç¦®å®‰": 4}, {"date": "2023-02-05", "å‘¨æ°å€«": 33, "å‘Šäº”äºº": 43, "å‘¨èˆˆå“²": 6, "èŒ„å­è›‹": 2, "éŸ‹ç¦®å®‰": 4}, {"date": "2023-02-12", "å‘¨æ°å€«": 31, "å‘Šäº”äºº": 47, "å‘¨èˆˆå“²": 7, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 5}, {"date": "2023-02-19", "å‘¨æ°å€«": 28, "å‘Šäº”äºº": 18, "å‘¨èˆˆå“²": 7, "èŒ„å­è›‹": 2, "éŸ‹ç¦®å®‰": 2}, {"date": "2023-02-26", "å‘¨æ°å€«": 33, "å‘Šäº”äºº": 16, "å‘¨èˆˆå“²": 11, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 5}, {"date": "2023-03-05", "å‘¨æ°å€«": 32, "å‘Šäº”äºº": 16, "å‘¨èˆˆå“²": 8, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 4}, {"date": "2023-03-12", "å‘¨æ°å€«": 24, "å‘Šäº”äºº": 15, "å‘¨èˆˆå“²": 5, "èŒ„å­è›‹": 41, "éŸ‹ç¦®å®‰": 3}, {"date": "2023-03-19", "å‘¨æ°å€«": 31, "å‘Šäº”äºº": 35, "å‘¨èˆˆå“²": 5, "èŒ„å­è›‹": 7, "éŸ‹ç¦®å®‰": 6}, {"date": "2023-03-26", "å‘¨æ°å€«": 41, "å‘Šäº”äºº": 25, "å‘¨èˆˆå“²": 25, "èŒ„å­è›‹": 7, "éŸ‹ç¦®å®‰": 3}, {"date": "2023-04-02", "å‘¨æ°å€«": 33, "å‘Šäº”äºº": 44, "å‘¨èˆˆå“²": 11, "èŒ„å­è›‹": 7, "éŸ‹ç¦®å®‰": 1}, {"date": "2023-04-09", "å‘¨æ°å€«": 31, "å‘Šäº”äºº": 38, "å‘¨èˆˆå“²": 8, "èŒ„å­è›‹": 6, "éŸ‹ç¦®å®‰": 2}, {"date": "2023-04-16", "å‘¨æ°å€«": 27, "å‘Šäº”äºº": 11, "å‘¨èˆˆå“²": 9, "èŒ„å­è›‹": 7, "éŸ‹ç¦®å®‰": 3}, {"date": "2023-04-23", "å‘¨æ°å€«": 40, "å‘Šäº”äºº": 16, "å‘¨èˆˆå“²": 3, "èŒ„å­è›‹": 9, "éŸ‹ç¦®å®‰": 4}];
;

    const artistColors = {
      "å‘¨æ°å€«": "#fb923c",
      "å‘Šäº”äºº": "#22c55e",
      "å‘¨èˆˆå“²": "#38bdf8",
      "èŒ„å­è›‹": "#e879f9",
      "éŸ‹ç¦®å®‰": "#facc15"
    };

    // ç¤ºæ„äº‹ä»¶ï¼ˆä½ ä¹‹å¾Œå¯ä»¥æ”¹æˆçœŸå¯¦äº‹ä»¶ï¼‰
    const artistEvents = {
      "å‘¨æ°å€«": [
        { date: "2022-07-08", label: "æ–°å°ˆè¼¯è©±é¡Œé«˜å³°ï¼ˆç¤ºæ„ï¼‰" },
        { date: "2022-12-24", label: "è·¨å¹´æ¼”å”±æœƒç›¸é—œè¨è«–ï¼ˆç¤ºæ„ï¼‰" }
      ],
      "å‘Šäº”äºº": [
        { date: "2022-10-01", label: "æ­Œæ›²æˆç‚ºæˆ²åŠ‡æ’æ›²ï¼Œå¼•ç™¼æœå°‹ï¼ˆç¤ºæ„ï¼‰" },
        { date: "2023-03-01", label: "å¤§å‹æ¼”å”±æœƒæˆ–é ’çå…¸ç¦®æ›å…‰ï¼ˆç¤ºæ„ï¼‰" }
      ],
      "å‘¨èˆˆå“²": [
        { date: "2022-09-15", label: "æŠ’æƒ…å–®æ›²ä¸Šæ¶å¸¶å‹•ç†±åº¦ï¼ˆç¤ºæ„ï¼‰" }
      ],
      "èŒ„å­è›‹": [
        { date: "2022-08-20", label: "å·¡è¿´æ¼”å”±æˆ–éŸ³æ¨‚ç¥­æ¼”å‡ºï¼ˆç¤ºæ„ï¼‰" }
      ],
      "éŸ‹ç¦®å®‰": [
        { date: "2023-01-10", label: "æ–°å°ˆè¼¯æˆ–åˆä½œå–®æ›²æ›å…‰ï¼ˆç¤ºæ„ï¼‰" }
      ]
    };

    const artistStories = {
      "å‘¨æ°å€«": {
        heading: "å‘¨æ°å€«ï¼šé«˜åŸå‹ç†±åº¦èˆ‡å¹¾å€‹æ˜é¡¯é«˜å³°",
        text: "å‘¨æ°å€«çš„æœå°‹ç†±åº¦é•·æœŸç¶­æŒåœ¨ä¸€å€‹ä¸­é«˜æª”ä½ï¼Œåªæœ‰åœ¨æ–°ä½œå“ã€æ¼”å”±æœƒæˆ–åª’é«”äº‹ä»¶æ™‚å‡ºç¾ç‰¹åˆ¥å°–éŠ³çš„é«˜é»ã€‚é€™ç¨®ã€Œé«˜åŸï¼‹å³°å€¼ã€çš„å‹æ…‹ï¼Œä»£è¡¨ä»–åœ¨è¯èªæ¨‚å£‡çš„å­˜åœ¨å¹¾ä¹æ˜¯å¸¸æ…‹èƒŒæ™¯ï¼Œåªæ˜¯åœ¨ç‰¹å®šäº‹ä»¶æ™‚è¢«å†æ¬¡æ”¾å¤§ã€‚"
      },
      "å‘Šäº”äºº": {
        heading: "å‘Šäº”äººï¼šå¾ã€Œè¢«æ³¨æ„ã€åˆ°ã€Œè®Šæˆä¸»æµã€çš„æ–œç‡æ•…äº‹",
        text: "å‘Šäº”äººçš„æ›²ç·šåœ¨å‰åŠæ®µç›¸å°å¹³ç©©ï¼Œä½†åœ¨æŸäº›æ™‚é–“é»ä¹‹å¾Œæ–œç‡è®Šå¤§ï¼Œå‡ºç¾æ˜é¡¯çš„æˆé•·èˆ‡é«˜å³°ã€‚é€™äº›é«˜å³°å¸¸å¸¸å°æ‡‰åˆ°æˆ²åŠ‡æ’æ›²ã€å»£å‘Šåˆä½œæˆ–æ˜¯å·¡æ¼”ï¼Œå‘ˆç¾å‡ºä¸€ç¨®å…¸å‹çš„ã€æ¨‚åœ˜ç«„ç´…ã€è»Œè·¡ã€‚"
      },
      "å‘¨èˆˆå“²": {
        heading: "å‘¨èˆˆå“²ï¼šæŠ’æƒ…å–®æ›²æ¨å‹•çš„ã€Œæƒ…æ­Œå‹ã€é«˜å³°",
        text: "å‘¨èˆˆå“²çš„ç†±åº¦å¤šåŠé›†ä¸­åœ¨å–®æ›²å®£å‚³æœŸï¼Œç•¶æ–°æ­Œä¸Šæ¶æˆ– MV æ¨å‡ºæ™‚ï¼Œæ›²ç·šæœƒå‡ºç¾ä¸€æ®µæ˜é¡¯ä¸Šå‡æœŸèˆ‡é«˜å³°ï¼Œä¹‹å¾Œé€æ¼¸å›è½ã€‚é€™ç¨®æ¨£æ…‹é©åˆæ­é…æ­Œè©å…§å®¹ã€æƒ…æ­Œæƒ…å¢ƒï¼Œä¸€èµ·åšæ•˜äº‹å ±å°ã€‚"
      },
      "èŒ„å­è›‹": {
        heading: "èŒ„å­è›‹ï¼šç¾å ´æ¼”å‡ºèˆ‡åœ°æ–¹æ´»å‹•å¸¶å‹•çš„å±€éƒ¨é«˜é»",
        text: "èŒ„å­è›‹çš„ç·šæ¢åœ¨å¹³å¸¸ç¶­æŒä½ä½ï¼Œä½†åœ¨ç‰¹å®šé€±æœŸæœƒçªç„¶è¢«æ‹‰é«˜ï¼Œå¤šåŠèˆ‡éŸ³æ¨‚ç¥­ã€æ ¡åœ’æ¼”å”±æˆ–åœ°æ–¹æ´»å‹•æœ‰é—œã€‚é€™æ¨£çš„æ›²ç·šå¯ä»¥å’Œåœ°åœ–ã€å ´åœ°è³‡æ–™æ­é…ï¼Œåšæˆã€å·¡è¿´è¶³è·¡ã€çš„æ•…äº‹ã€‚"
      },
      "éŸ‹ç¦®å®‰": {
        heading: "éŸ‹ç¦®å®‰ï¼šåˆä½œèˆ‡å°ˆè¼¯ç¯€å¥ç‰½å‹•çš„æ³¢å‹•æ›²ç·š",
        text: "éŸ‹ç¦®å®‰çš„ç†±åº¦åœ¨åˆä½œå–®æ›²ã€å°ˆè¼¯ç™¼è¡Œæˆ–ç¯€ç›®éœ²å‡ºæ™‚æœƒå‡ºç¾å¤šæ¬¡ä¸­ç­‰é«˜å³°ï¼Œæ•´é«”èµ·ä¼ä¸ç®—åŠ‡çƒˆï¼Œä½†åœ¨ç‰¹å®šæ™‚é–“ä»æœ‰æ¸…æ¥šæ³¢å‹•ã€‚é€™æ¨£çš„ç¯€å¥é©åˆèˆ‡ç”¢æ¥­è„ˆçµ¡ã€ä¸åŒå¹³å°æ›å…‰æ–¹å¼ä¸€èµ·åˆ†æã€‚"
      }
    };

    function buildFocusTrace(artist) {
      return {
        x: trendsData.map(d => d.date),
        y: trendsData.map(d => d[artist]),
        name: artist,
        mode: "lines",
        line: {
          color: artistColors[artist] || "#fb923c",
          width: 3
        }
      };
    }

    function buildEventShapes(artist) {
      const events = artistEvents[artist] || [];
      return events.map(ev => ({
        type: "line",
        x0: ev.date,
        x1: ev.date,
        y0: 0,
        y1: 1,
        xref: "x",
        yref: "paper",
        line: {
          color: "#9ca3af",
          width: 1,
          dash: "dot"
        }
      }));
    }

    function buildEventAnnotations(artist) {
      const events = artistEvents[artist] || [];
      return events.map(ev => ({
        x: ev.date,
        y: 1,
        xref: "x",
        yref: "paper",
        yanchor: "bottom",
        ay: -40,
        ax: 0,
        text: ev.label,
        font: { size: 11, color: "#e5e7eb" },
        bgcolor: "#020617",
        bordercolor: "#4b5563",
        borderwidth: 1
      }));
    }

    function renderFocus(artist) {
      const trace = buildFocusTrace(artist);
      const shapes = buildEventShapes(artist);
      const annotations = buildEventAnnotations(artist);

      const layout = {
        paper_bgcolor: "#020617",
        plot_bgcolor: "#020617",
        margin: { t: 16, r: 16, b: 48, l: 48 },
        xaxis: {
          title: "",
          tickfont: { color: "#e5e7eb", size: 10 },
          gridcolor: "#1f2937"
        },
        yaxis: {
          title: "æœå°‹ç†±åº¦ï¼ˆ0â€“100ï¼‰",
          tickfont: { color: "#e5e7eb", size: 10 },
          gridcolor: "#1f2937",
          rangemode: "tozero"
        },
        shapes,
        annotations,
        hovermode: "x unified",
        hoverlabel: {
          bgcolor: "#020617",
          bordercolor: "#4b5563",
          font: { color: "#e5e7eb", size: 11 }
        },
        showlegend: false
      };

      const config = {
        responsive: true,
        displaylogo: false,
        modeBarButtonsToRemove: ["select2d", "lasso2d"]
      };

      Plotly.react("focus-chart", [trace], layout, config);

      const story = artistStories[artist];
      if (story) {
        document.getElementById("storyHeading").textContent = story.heading;
        document.getElementById("storyText").textContent = story.text;
      }

      const list = document.getElementById("eventList");
      list.innerHTML = "";
      (artistEvents[artist] || []).forEach(ev => {
        const li = document.createElement("li");
        const time = document.createElement("time");
        time.textContent = ev.date;
        li.appendChild(time);
        li.appendChild(document.createTextNode(" " + ev.label));
        list.appendChild(li);
      });

      document.getElementById("title").textContent = artist + "ï¼šä¸€å¹´æœå°‹ç†±åº¦æ•…äº‹";
      document.getElementById("legendColor").style.backgroundColor =
        artistColors[artist] || "#fb923c";

      let maxVal = -Infinity;
      let maxDate = null;
      trendsData.forEach(d => {
        if (d[artist] > maxVal) {
          maxVal = d[artist];
          maxDate = d.date;
        }
      });
      document.getElementById("peakInfo").textContent =
        "æœ€é«˜é»ï¼š" + maxVal + "ï¼ˆ" + maxDate + "ï¼‰";
    }

    window.addEventListener("load", () => {
      const select = document.getElementById("artistSelect");
      select.addEventListener("change", () => {
        renderFocus(select.value);
      });
      renderFocus(select.value);
      window.addEventListener("resize", () => {
        renderFocus(select.value);
      });
    });
  </script>
</body>
</html>
