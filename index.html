<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>å°ç£æ­Œæ‰‹ Google Trends Â· Plotly äº’å‹•æŠ˜ç·šåœ–ï¼ˆVercel ç‰ˆä¿®æ­£ç‰ˆï¼‰</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Plotly from CDNï¼šéƒ¨ç½²åˆ° Vercel å¾Œå³å¯æ­£å¸¸è¼‰å…¥ -->
  <script src="https://cdn.plot.ly/plotly-2.35.2.min.js"></script>
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Noto Sans TC", sans-serif;
      background: #020617;
      color: #e5e7eb;
      line-height: 1.6;
    }
    .page {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    header {
      max-width: 960px;
      margin: 0 auto;
      padding: 2.5rem 1.5rem 1.5rem;
    }
    .eyebrow {
      font-size: 0.8rem;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: #9ca3af;
      margin-bottom: 0.4rem;
    }
    h1 {
      font-size: 2.2rem;
      margin: 0 0 0.6rem;
    }
    .sub {
      font-size: 0.95rem;
      color: #9ca3af;
    }
    .hero {
      max-width: 960px;
      margin: 0 auto;
      padding: 0 1.5rem 1.5rem;
    }
    .chart-card {
      background: radial-gradient(circle at top, #0f172a 0, #020617 60%);
      border-radius: 1.5rem;
      padding: 1rem 1.25rem 1.25rem;
      border: 1px solid #1f2937;
    }
    #chart {
      width: 100%;
      height: 420px;
    }
    .chip-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 0.75rem;
    }
    .chip {
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      border-radius: 999px;
      border: 1px solid #334155;
      background: #020617;
      color: #e5e7eb;
      padding: 0.3rem 0.8rem;
      font-size: 0.8rem;
      cursor: pointer;
    }
    .chip.active {
      background: #22c55e;
      border-color: #22c55e;
      color: #020617;
      font-weight: 600;
    }
    .chip-swatch {
      width: 11px;
      height: 11px;
      border-radius: 999px;
    }
    .chart-meta {
      font-size: 0.8rem;
      color: #9ca3af;
      margin-top: 0.5rem;
    }
    .main {
      max-width: 960px;
      margin: 0 auto;
      padding: 0 1.5rem 2.5rem;
      display: grid;
      grid-template-columns: minmax(0, 1.7fr) minmax(0, 1.3fr);
      gap: 1.75rem;
    }
    @media (max-width: 900px) {
      .main {
        grid-template-columns: minmax(0, 1fr);
      }
    }
    .story-col {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    .story-card {
      background: #020617;
      border-radius: 1rem;
      border: 1px solid #1f2937;
      padding: 1rem 1.15rem;
      font-size: 0.95rem;
    }
    .story-tag {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #9ca3af;
      margin-bottom: 0.25rem;
    }
    .story-card h2 {
      margin: 0.1rem 0 0.5rem;
      font-size: 1.25rem;
    }
    .side-col {
      font-size: 0.9rem;
    }
    .side-title {
      margin: 0 0 0.3rem;
      font-size: 1.25rem;
    }
    .side-sub {
      margin: 0 0 0.7rem;
      color: #9ca3af;
    }
    .stat-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 0.75rem;
      margin-top: 0.5rem;
    }
    .stat-card {
      background: #020617;
      border-radius: 0.9rem;
      border: 1px solid #1f2937;
      padding: 0.65rem 0.8rem;
    }
    .stat-name {
      display: flex;
      align-items: center;
      gap: 0.35rem;
      font-size: 0.85rem;
      margin-bottom: 0.2rem;
    }
    .stat-swatch {
      width: 11px;
      height: 11px;
      border-radius: 999px;
    }
    .stat-value {
      font-size: 1.25rem;
      font-weight: 600;
    }
    .stat-meta {
      font-size: 0.75rem;
      color: #9ca3af;
    }
    footer {
      max-width: 960px;
      margin: 0 auto;
      padding: 0 1.5rem 2rem;
      font-size: 0.78rem;
      color: #6b7280;
    }
    .nav-button {
  display: inline-flex;
  align-items: center;
  margin-top: 0.8rem;
  padding: 0.4rem 0.9rem;
  border-radius: 999px;
  border: 1px solid #4b5563;
  background: #0b1120;
  color: #e5e7eb;
  font-size: 0.85rem;
  text-decoration: none;
}
.nav-button:hover {
  background: #1f2937;
}
  </style>
</head>
<body>
  <div class="page">
    <header>
  <p class="eyebrow">PLOTLY INTERACTIVE Â· VERCEL READY</p>
  <h1>èª°åœ¨ä¸€å¹´ä¹‹å…§æœ€ç´…ï¼Ÿäº”ä½å°ç£æ­Œæ‰‹çš„ Google Trends ç†±åº¦æ¯”è¼ƒ</h1>
  <p class="sub">
    é€™å€‹ç‰ˆæœ¬å°ˆé–€è¨­è¨ˆçµ¦ Vercel éƒ¨ç½²ä½¿ç”¨ï¼Œé€é CDN è¼‰å…¥ Plotlyï¼Œå‘ˆç¾å¯äº’å‹•çš„æŠ˜ç·šåœ–ã€‚
    èˆ‡é›¢ç·š SVG ç‰ˆç›¸å°æ‡‰ï¼Œä½ å¯ä»¥åœ¨èª²å ‚ä¸Šæ¯”è¼ƒã€Œç„¡å¤–éƒ¨åº«ã€èˆ‡ã€Œä½¿ç”¨ç¹ªåœ–å¥—ä»¶ã€å…©ç¨®åšæ³•ã€‚
  </p>

  <!-- ğŸ”— æ–°å¢ï¼šé€£åˆ°å–®ä¸€æ­Œæ‰‹æ•…äº‹é  -->
  <a href="/singer.html" class="nav-button">
    æŸ¥çœ‹å–®ä¸€æ­Œæ‰‹æ•…äº‹é  â†’
  </a>
</header>

    <section class="hero">
      <div class="chart-card">
        <div id="chart"></div>
        <div class="chip-row" id="chipRow"></div>
        <p class="chart-meta">
          æ¯ä¸€æ¢ç·šä»£è¡¨è©²æ­Œæ‰‹åœ¨å°ç£çš„ç›¸å°æœå°‹ç†±åº¦ï¼ˆ0â€“100ï¼‰ã€‚é»é¸ä¸‹æ–¹åœ“è§’æŒ‰éˆ•å¯ä»¥å€‹åˆ¥é–‹é—œæ­Œæ‰‹ç·šæ¢ã€‚
          åœ¨ Vercel ä¸Šï¼Œé€™å€‹é é¢æœƒé€é CDN è‡ªå‹•è¼‰å…¥ Plotlyã€‚
        </p>
      </div>
    </section>

    <main class="main">
      <section class="story-col">
        <article class="story-card">
          <p class="story-tag">å°è®€</p>
          <h2>å¾ã€Œèª°ä¸€ç›´ç´…ã€åˆ°ã€Œèª°çªç„¶ç´…ã€</h2>
          <p>
            å‘¨æ°å€«çš„æ›²ç·šåœ¨å…¨å¹´ç¶­æŒç›¸å°é«˜ä½ï¼Œä»£è¡¨é•·æœŸç©©å®šçš„é—œæ³¨åº¦ï¼›
            å‘Šäº”äººèˆ‡å…¶ä»–æ¨‚åœ˜ã€å‰µä½œæ­Œæ‰‹å‰‡å‡ºç¾è¼ƒæ˜é¡¯çš„çˆ¬å¡èˆ‡å±€éƒ¨é«˜é»ï¼Œ
            é€™äº›é«˜é»å¾€å¾€å°æ‡‰åˆ°å°ˆè¼¯ç™¼è¡Œã€æˆ²åŠ‡æ’æ›²æˆ–æ¼”å”±æœƒã€‚
          </p>
        </article>
        <article class="story-card">
          <p class="story-tag">æ•™å­¸æ‡‰ç”¨</p>
          <h2>åŒä¸€ä»½è³‡æ–™ï¼Œå…©ç¨®å‘ˆç¾æ–¹å¼</h2>
          <p>
            ä½ å¯ä»¥æ­é…é›¢ç·š SVG ç‰ˆä¸€èµ·ä½¿ç”¨ï¼šå…ˆè®“å­¸ç”Ÿä¸‹è¼‰é›¢ç·šæª”ï¼Œç†è§£åœ–å½¢å…¶å¯¦å°±æ˜¯ä¸€å †ç·šæ¢ï¼›
            å†å±•ç¤ºé€™å€‹ Plotly ç‰ˆï¼Œè¨è«–è³‡æ–™è¦–è¦ºåŒ–å¥—ä»¶å¦‚ä½•å¹«åŠ©æˆ‘å€‘åœ¨æ›´çŸ­æ™‚é–“å…§å®Œæˆäº’å‹•ä½œå“ã€‚
          </p>
        </article>
      </section>

      <aside class="side-col">
        <h2 class="side-title">èª°åœ¨ä½•æ™‚åˆ°é”é«˜å³°ï¼Ÿ</h2>
        <p class="side-sub">
          é€™è£¡åˆ—å‡ºæ¯ä½æ­Œæ‰‹åœ¨é€™ä¸€å¹´ä¸­ Google Trends çš„æœ€é«˜ç†±åº¦å€¼èˆ‡é€±æœŸã€‚
        </p>
        <div class="stat-grid" id="statGrid"></div>
      </aside>
    </main>

    <footer>
      é€™æ˜¯ä¸€å€‹ç¤ºç¯„ç”¨çš„ Plotly å–®æª” HTMLã€‚å°‡æª”æ¡ˆå‘½åç‚º <code>index.html</code> å¾Œä¸Šå‚³åˆ° Vercelï¼Œ
      å³å¯æˆç‚ºä¸€å€‹å¯åˆ†äº«çš„äº’å‹•ç¶²é ã€‚
    </footer>
  </div>

  <script>
    // --- è³‡æ–™éƒ¨åˆ†ï¼šç›´æ¥å¾ Excel è½‰å‡ºçš„ JSON ---
    const trendsData = [{"date": "2022-05-01", "å‘¨æ°å€«": 37, "å‘Šäº”äºº": 7, "å‘¨èˆˆå“²": 6, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 14}, {"date": "2022-05-08", "å‘¨æ°å€«": 31, "å‘Šäº”äºº": 8, "å‘¨èˆˆå“²": 9, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 14}, {"date": "2022-05-15", "å‘¨æ°å€«": 32, "å‘Šäº”äºº": 6, "å‘¨èˆˆå“²": 7, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 7}, {"date": "2022-05-22", "å‘¨æ°å€«": 31, "å‘Šäº”äºº": 7, "å‘¨èˆˆå“²": 7, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 7}, {"date": "2022-05-29", "å‘¨æ°å€«": 28, "å‘Šäº”äºº": 5, "å‘¨èˆˆå“²": 6, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 9}, {"date": "2022-06-05", "å‘¨æ°å€«": 24, "å‘Šäº”äºº": 5, "å‘¨èˆˆå“²": 6, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 5}, {"date": "2022-06-12", "å‘¨æ°å€«": 27, "å‘Šäº”äºº": 5, "å‘¨èˆˆå“²": 11, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 3}, {"date": "2022-06-19", "å‘¨æ°å€«": 32, "å‘Šäº”äºº": 5, "å‘¨èˆˆå“²": 8, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 6}, {"date": "2022-06-26", "å‘¨æ°å€«": 38, "å‘Šäº”äºº": 6, "å‘¨èˆˆå“²": 9, "èŒ„å­è›‹": 11, "éŸ‹ç¦®å®‰": 13}, {"date": "2022-07-03", "å‘¨æ°å€«": 97, "å‘Šäº”äºº": 5, "å‘¨èˆˆå“²": 7, "èŒ„å­è›‹": 15, "éŸ‹ç¦®å®‰": 13}, {"date": "2022-07-10", "å‘¨æ°å€«": 100, "å‘Šäº”äºº": 6, "å‘¨èˆˆå“²": 7, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 5}, {"date": "2022-07-17", "å‘¨æ°å€«": 61, "å‘Šäº”äºº": 5, "å‘¨èˆˆå“²": 11, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 5}, {"date": "2022-07-24", "å‘¨æ°å€«": 51, "å‘Šäº”äºº": 5, "å‘¨èˆˆå“²": 10, "èŒ„å­è›‹": 6, "éŸ‹ç¦®å®‰": 4}, {"date": "2022-07-31", "å‘¨æ°å€«": 43, "å‘Šäº”äºº": 6, "å‘¨èˆˆå“²": 11, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 4}, {"date": "2022-08-07", "å‘¨æ°å€«": 40, "å‘Šäº”äºº": 6, "å‘¨èˆˆå“²": 16, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 4}, {"date": "2022-08-14", "å‘¨æ°å€«": 43, "å‘Šäº”äºº": 7, "å‘¨èˆˆå“²": 11, "èŒ„å­è›‹": 6, "éŸ‹ç¦®å®‰": 6}, {"date": "2022-08-21", "å‘¨æ°å€«": 34, "å‘Šäº”äºº": 10, "å‘¨èˆˆå“²": 8, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 6}, {"date": "2022-08-28", "å‘¨æ°å€«": 42, "å‘Šäº”äºº": 9, "å‘¨èˆˆå“²": 10, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 5}, {"date": "2022-09-04", "å‘¨æ°å€«": 38, "å‘Šäº”äºº": 7, "å‘¨èˆˆå“²": 6, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 17}, {"date": "2022-09-11", "å‘¨æ°å€«": 34, "å‘Šäº”äºº": 12, "å‘¨èˆˆå“²": 10, "èŒ„å­è›‹": 9, "éŸ‹ç¦®å®‰": 26}, {"date": "2022-09-18", "å‘¨æ°å€«": 27, "å‘Šäº”äºº": 11, "å‘¨èˆˆå“²": 8, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 6}, {"date": "2022-09-25", "å‘¨æ°å€«": 30, "å‘Šäº”äºº": 7, "å‘¨èˆˆå“²": 10, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 45}, {"date": "2022-10-02", "å‘¨æ°å€«": 31, "å‘Šäº”äºº": 9, "å‘¨èˆˆå“²": 9, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 10}, {"date": "2022-10-09", "å‘¨æ°å€«": 31, "å‘Šäº”äºº": 12, "å‘¨èˆˆå“²": 53, "èŒ„å­è›‹": 6, "éŸ‹ç¦®å®‰": 6}, {"date": "2022-10-16", "å‘¨æ°å€«": 35, "å‘Šäº”äºº": 14, "å‘¨èˆˆå“²": 35, "èŒ„å­è›‹": 8, "éŸ‹ç¦®å®‰": 5}, {"date": "2022-10-23", "å‘¨æ°å€«": 35, "å‘Šäº”äºº": 10, "å‘¨èˆˆå“²": 33, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 6}, {"date": "2022-10-30", "å‘¨æ°å€«": 29, "å‘Šäº”äºº": 15, "å‘¨èˆˆå“²": 9, "èŒ„å­è›‹": 6, "éŸ‹ç¦®å®‰": 2}, {"date": "2022-11-06", "å‘¨æ°å€«": 29, "å‘Šäº”äºº": 7, "å‘¨èˆˆå“²": 7, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 12}, {"date": "2022-11-13", "å‘¨æ°å€«": 32, "å‘Šäº”äºº": 10, "å‘¨èˆˆå“²": 26, "èŒ„å­è›‹": 3, "éŸ‹ç¦®å®‰": 6}, {"date": "2022-11-20", "å‘¨æ°å€«": 37, "å‘Šäº”äºº": 9, "å‘¨èˆˆå“²": 21, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 10}, {"date": "2022-11-27", "å‘¨æ°å€«": 25, "å‘Šäº”äºº": 7, "å‘¨èˆˆå“²": 10, "èŒ„å­è›‹": 3, "éŸ‹ç¦®å®‰": 6}, {"date": "2022-12-04", "å‘¨æ°å€«": 39, "å‘Šäº”äºº": 15, "å‘¨èˆˆå“²": 8, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 7}, {"date": "2022-12-11", "å‘¨æ°å€«": 29, "å‘Šäº”äºº": 13, "å‘¨èˆˆå“²": 8, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 6}, {"date": "2022-12-18", "å‘¨æ°å€«": 39, "å‘Šäº”äºº": 13, "å‘¨èˆˆå“²": 7, "èŒ„å­è›‹": 3, "éŸ‹ç¦®å®‰": 6}, {"date": "2022-12-25", "å‘¨æ°å€«": 34, "å‘Šäº”äºº": 34, "å‘¨èˆˆå“²": 26, "èŒ„å­è›‹": 10, "éŸ‹ç¦®å®‰": 14}, {"date": "2023-01-01", "å‘¨æ°å€«": 32, "å‘Šäº”äºº": 27, "å‘¨èˆˆå“²": 16, "èŒ„å­è›‹": 7, "éŸ‹ç¦®å®‰": 15}, {"date": "2023-01-08", "å‘¨æ°å€«": 32, "å‘Šäº”äºº": 18, "å‘¨èˆˆå“²": 9, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 3}, {"date": "2023-01-15", "å‘¨æ°å€«": 36, "å‘Šäº”äºº": 19, "å‘¨èˆˆå“²": 5, "èŒ„å­è›‹": 5, "éŸ‹ç¦®å®‰": 7}, {"date": "2023-01-22", "å‘¨æ°å€«": 32, "å‘Šäº”äºº": 20, "å‘¨èˆˆå“²": 11, "èŒ„å­è›‹": 9, "éŸ‹ç¦®å®‰": 7}, {"date": "2023-01-29", "å‘¨æ°å€«": 26, "å‘Šäº”äºº": 21, "å‘¨èˆˆå“²": 6, "èŒ„å­è›‹": 3, "éŸ‹ç¦®å®‰": 4}, {"date": "2023-02-05", "å‘¨æ°å€«": 33, "å‘Šäº”äºº": 43, "å‘¨èˆˆå“²": 6, "èŒ„å­è›‹": 2, "éŸ‹ç¦®å®‰": 4}, {"date": "2023-02-12", "å‘¨æ°å€«": 31, "å‘Šäº”äºº": 47, "å‘¨èˆˆå“²": 7, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 5}, {"date": "2023-02-19", "å‘¨æ°å€«": 28, "å‘Šäº”äºº": 18, "å‘¨èˆˆå“²": 7, "èŒ„å­è›‹": 2, "éŸ‹ç¦®å®‰": 2}, {"date": "2023-02-26", "å‘¨æ°å€«": 33, "å‘Šäº”äºº": 16, "å‘¨èˆˆå“²": 11, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 5}, {"date": "2023-03-05", "å‘¨æ°å€«": 32, "å‘Šäº”äºº": 16, "å‘¨èˆˆå“²": 8, "èŒ„å­è›‹": 4, "éŸ‹ç¦®å®‰": 4}, {"date": "2023-03-12", "å‘¨æ°å€«": 24, "å‘Šäº”äºº": 15, "å‘¨èˆˆå“²": 5, "èŒ„å­è›‹": 41, "éŸ‹ç¦®å®‰": 3}, {"date": "2023-03-19", "å‘¨æ°å€«": 31, "å‘Šäº”äºº": 35, "å‘¨èˆˆå“²": 5, "èŒ„å­è›‹": 7, "éŸ‹ç¦®å®‰": 6}, {"date": "2023-03-26", "å‘¨æ°å€«": 41, "å‘Šäº”äºº": 25, "å‘¨èˆˆå“²": 25, "èŒ„å­è›‹": 7, "éŸ‹ç¦®å®‰": 3}, {"date": "2023-04-02", "å‘¨æ°å€«": 33, "å‘Šäº”äºº": 44, "å‘¨èˆˆå“²": 11, "èŒ„å­è›‹": 7, "éŸ‹ç¦®å®‰": 1}, {"date": "2023-04-09", "å‘¨æ°å€«": 31, "å‘Šäº”äºº": 38, "å‘¨èˆˆå“²": 8, "èŒ„å­è›‹": 6, "éŸ‹ç¦®å®‰": 2}, {"date": "2023-04-16", "å‘¨æ°å€«": 27, "å‘Šäº”äºº": 11, "å‘¨èˆˆå“²": 9, "èŒ„å­è›‹": 7, "éŸ‹ç¦®å®‰": 3}, {"date": "2023-04-23", "å‘¨æ°å€«": 40, "å‘Šäº”äºº": 16, "å‘¨èˆˆå“²": 3, "èŒ„å­è›‹": 9, "éŸ‹ç¦®å®‰": 4}];

    // --- é¡è‰²èˆ‡æ­Œæ‰‹æ¸…å–® ---
    const artistColors = {
      "å‘¨æ°å€«": "#f97316",
      "å‘Šäº”äºº": "#22c55e",
      "å‘¨èˆˆå“²": "#38bdf8",
      "èŒ„å­è›‹": "#e879f9",
      "éŸ‹ç¦®å®‰": "#facc15"
    };
    const artists = Object.keys(artistColors);
    let visibleArtists = new Set(artists);

    function buildTraces() {
      const x = trendsData.map(d => d.date);
      return artists.map(name => {
        const isOn = visibleArtists.has(name);
        return {
          x,
          y: trendsData.map(d => d[name]),
          mode: 'lines',
          name,
          line: {
            width: isOn ? 3 : 1.5,
            color: artistColors[name]
          },
          opacity: isOn ? 1 : 0.25
        };
      });
    }

    function renderChart() {
      const traces = buildTraces();
      const layout = {
        paper_bgcolor: '#020617',
        plot_bgcolor: '#020617',
        margin: { t: 24, r: 16, b: 48, l: 48 },
        xaxis: {
          title: '',
          tickfont: { color: '#e5e7eb', size: 10 },
          gridcolor: '#1f2937'
        },
        yaxis: {
          title: 'æœå°‹ç†±åº¦ï¼ˆ0â€“100ï¼‰',
          tickfont: { color: '#e5e7eb', size: 10 },
          gridcolor: '#1f2937',
          rangemode: 'tozero'
        },
        legend: {
          font: { color: '#e5e7eb', size: 10 }
        },
        hovermode: 'x unified',
        hoverlabel: {
          bgcolor: '#020617',
          bordercolor: '#4b5563',
          font: { color: '#e5e7eb', size: 11 }
        }
      };
      const config = {
        responsive: true,
        displaylogo: false,
        modeBarButtonsToRemove: ['select2d', 'lasso2d']
      };
      Plotly.react('chart', traces, layout, config);
    }

    function initChips() {
      const row = document.getElementById('chipRow');
      row.innerHTML = '';
      artists.forEach(name => {
        const btn = document.createElement('button');
        btn.className = 'chip active';
        btn.dataset.artist = name;

        const sw = document.createElement('span');
        sw.className = 'chip-swatch';
        sw.style.backgroundColor = artistColors[name];

        btn.appendChild(sw);
        btn.appendChild(document.createTextNode(name));

        btn.addEventListener('click', () => {
          if (visibleArtists.has(name)) {
            visibleArtists.delete(name);
            btn.classList.remove('active');
          } else {
            visibleArtists.add(name);
            btn.classList.add('active');
          }
          renderChart();
        });

        row.appendChild(btn);
      });
    }

    function initStats() {
      const grid = document.getElementById('statGrid');
      grid.innerHTML = '';
      artists.forEach(name => {
        let maxVal = -Infinity;
        let maxDate = null;
        trendsData.forEach(d => {
          if (d[name] > maxVal) {
            maxVal = d[name];
            maxDate = d.date;
          }
        });
        const card = document.createElement('div');
        card.className = 'stat-card';

        const nameDiv = document.createElement('div');
        nameDiv.className = 'stat-name';
        const sw = document.createElement('span');
        sw.className = 'stat-swatch';
        sw.style.backgroundColor = artistColors[name];
        nameDiv.appendChild(sw);
        nameDiv.appendChild(document.createTextNode(name));

        const valDiv = document.createElement('div');
        valDiv.className = 'stat-value';
        valDiv.textContent = maxVal;

        const metaDiv = document.createElement('div');
        metaDiv.className = 'stat-meta';
        metaDiv.textContent = 'æœ€é«˜é»å‡ºç¾åœ¨ ' + maxDate;

        card.appendChild(nameDiv);
        card.appendChild(valDiv);
        card.appendChild(metaDiv);

        grid.appendChild(card);
      });
    }

    window.addEventListener('load', () => {
      initChips();
      initStats();
      renderChart();
      window.addEventListener('resize', () => {
        renderChart();
      });
    });
  </script>
</body>
</html>
